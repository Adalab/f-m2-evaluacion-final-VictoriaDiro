{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst inputSearch = document.querySelector('.input__search');\nconst searchButton = document.querySelector('.search__button');\n\n// El usuario mete el nombre de la serie en el input\n// Se recoje el texto que ha introducido el usuario en el input\n// Al hacer click en buscar la aplicación se conecta a la API\n// Se muestra en el resultado el título y la imagen\n// Si la serie no tiene imagen se mostrará 'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\n// El usuario puede indicar series favoritas\n// --> El usuario pulsa sobre el li\n// --> El elemento se marca como favorito (cambia estilos)\n// --> El elemento se almacena en una lista lateral izquiera\n// --> La lista permanece siempre en la izquierda\n// Al hacer click para hacer fav el color de fondo y la fuente cambian\n// Si se hace una nueva búsqueda los resultados de fav se acumulan a la izquierda\n// El listado de favoritos se almacena en LocalStorage\n\nfunction printShows() {\n  let urlAPI = `http://api.tvmaze.com/search/shows?q=${inputSearch.value}`;\n  fetch(urlAPI) \n    .then(function(response) { \n      return response.json();\n    })\n    .then(function(data) {\n      console.log(data)\n      let tvShowsContainer = document.querySelector('.tv__shows-container');\n      tvShowsContainer.innerHTML = '';\n\n      for(let i = 0; i < data.length; i++) {\n        \n        const newLi = document.createElement('li');\n        newLi.classList.add('show__item');\n        tvShowsContainer.appendChild(newLi);\n\n        const newH2 = document.createElement('h2');\n        newH2.classList.add('show__title');\n        newLi.appendChild(newH2);\n        const newTitle = document.createTextNode(data[i].show.name);\n        newH2.appendChild(newTitle);\n\n        const newImg = document.createElement('img');\n        newImg.classList.add('show__image');\n        newLi.appendChild(newImg);\n        if(data[i].show.image === null) {\n          newImg.src = 'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\n        } else {\n          newImg.src = data[i].show.image.medium;\n          newImg.alt = data[i].show.title;\n        }\n      newLi.addEventListener('click', favoriteSelect);\n      };\n    });\n  };\n\nsearchButton.addEventListener('click', printShows);\n\nfunction favoriteSelect(event) {\n  console.log(event)\n  let favList = document.querySelector('.fav__list');\n  let favItem = event.path[1].cloneNode(true);\n  favList.appendChild(favItem);\n  favItem.addEventListener('click', unFavorite)\n};\n\nfunction unFavorite(event) {\n  let favList = document.querySelector('.fav__list');\n  favList.removeChild(event.path[1])\n  console.log(event)\n}\n\n\n\n\n// let favList = document.querySelector('.fav__list');\n\n// newLi.addEventListener('click', function(e) {\n\n//   let favData = {\n//     name = data.name;\n//     image = data.image;\n//   };\n\n//   let favorites = localStorage('favorites') || '[]';\n//   favorites = json.parse(favorites);\n\n//   let favList = favorites.findIndex(function(e) {\n//     return e.name == favData.name; \n//     });\n//     if(favList > -1) {\n//       favList.innerHTML = favData;\n//     }else {\n//       favorites.push(favData);\n//     }\n\n//   localStorage.setItem('favorites', JSON.stringify(favorites));\n// });"]}